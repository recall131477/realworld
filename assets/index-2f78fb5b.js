import{e as v,p as w,k as _,s as k,f as i,g as y,o as U,c as S,b as e,E as V,C as r,D as d,N,l as m}from"./index-abc583f2.js";import{d as B}from"./index-7324e164.js";const C={class:"pt-6"},E={class:"mx-auto max-w-[1140px] px-[15px]"},M={class:"md:mx-auto md:w-1/2"},R=e("h1",{class:"text-center text-[40px]"},"Your Settings",-1),D=["disabled"],L={class:"form-group"},T={class:"form-group"},Y={class:"form-group"},H={class:"form-group"},I={class:"form-group"},O=e("div",{class:"text-right"},[e("button",{type:"submit",class:"inline-block rounded bg-primary px-6 py-3 text-xl leading-tight text-white duration-300 hover:bg-primary-dark"}," Update Settings ")],-1),P={name:"SettingsView"},A=v({...P,setup(j){const u=w(),p=_(),{userInfo:a}=k(p),{setUser:b,removeUser:x}=p,t=i({email:"",password:"",username:"",bio:"",image:""}),n=i(!1),g=i({}),f=async()=>{n.value=!0;try{const s=await N({user:t.value});b(s.data.user),u.push({name:"profile",params:{username:s.data.user.username}})}catch(s){g.value=s.errors}n.value=!1},c=B(()=>{f()},250),h=()=>{x(),u.push({name:"global-feed"})};return y(()=>{a.value&&(t.value={email:a.value.email,password:"",username:a.value.username,bio:a.value.bio,image:a.value.image})}),(s,o)=>(U(),S("div",C,[e("div",E,[e("div",M,[R,e("form",{onSubmit:o[5]||(o[5]=V((...l)=>m(c)&&m(c)(...l),["prevent"]))},[e("fieldset",{class:"space-y-4",disabled:n.value},[e("fieldset",L,[r(e("input",{type:"text",id:"profileUrl",name:"profileUrl",class:"border-black/15 block w-full rounded border bg-white px-6 py-3 text-xl leading-tight text-[#55595c] outline-none placeholder:text-[#999]",placeholder:"URL of profile picture","onUpdate:modelValue":o[0]||(o[0]=l=>t.value.image=l)},null,512),[[d,t.value.image]])]),e("fieldset",T,[r(e("input",{type:"text",id:"userName",name:"userName",autocomplete:"userName",class:"border-black/15 block w-full rounded border bg-white px-6 py-3 text-xl leading-tight text-[#55595c] outline-none placeholder:text-[#999]",placeholder:"Your Name","onUpdate:modelValue":o[1]||(o[1]=l=>t.value.username=l)},null,512),[[d,t.value.username]])]),e("fieldset",Y,[r(e("textarea",{class:"border-black/15 block w-full rounded border bg-white px-6 py-3 text-xl leading-tight text-[#55595c] outline-none placeholder:text-[#999]",rows:"8",placeholder:"Short bio about you","onUpdate:modelValue":o[2]||(o[2]=l=>t.value.bio=l)},null,512),[[d,t.value.bio]])]),e("fieldset",H,[r(e("input",{type:"email",id:"email",name:"email",autocomplete:"email",class:"border-black/15 block w-full rounded border bg-white px-6 py-3 text-xl leading-tight text-[#55595c] outline-none placeholder:text-[#999]",placeholder:"Email","onUpdate:modelValue":o[3]||(o[3]=l=>t.value.email=l)},null,512),[[d,t.value.email]])]),e("fieldset",I,[r(e("input",{type:"password",id:"password",name:"password",autocomplete:"current-password",class:"border-black/15 block w-full rounded border bg-white px-6 py-3 text-xl leading-tight text-[#55595c] outline-none placeholder:text-[#999]",placeholder:"Password","onUpdate:modelValue":o[4]||(o[4]=l=>t.value.password=l)},null,512),[[d,t.value.password]])]),O],8,D)],32),e("div",{class:"mt-4 border-t border-black/10 pt-4"},[e("button",{class:"inline-block rounded border border-danger px-4 py-2 leading-tight text-danger duration-300 hover:bg-danger hover:text-white",onClick:h}," Or click here to logout. ")])])])]))}});export{A as default};
